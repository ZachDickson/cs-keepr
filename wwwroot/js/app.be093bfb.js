(function(e){function t(t){for(var s,l,n=t[0],i=t[1],c=t[2],p=0,d=[];p<n.length;p++)l=n[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var i=a[n];0!==r[i]&&(s=!1)}s&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},r={app:0},o=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],i=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0699":function(e,t,a){"use strict";var s=a("6365"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},o=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[e._v("Keepr")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==e.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[e._v("Home")])],1),e.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"dashboard"==e.$route.name}},[e.$auth.isAuthenticated?a("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[e._v("My Stuff")]):e._e()],1):e._e()]),a("span",{staticClass:"navbar-text"},[e.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:e.logout}},[e._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:e.login}},[e._v("Login")])])])],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],i=a("bc3a"),c=a.n(i);c.a.create({baseURL:"https://localhost:5001",withCredentials:!0});var u={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),await this.$auth.getUserData(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},p=u,d=a("2877"),m=Object(d["a"])(p,l,n,!1,null,null,null),v=m.exports,h=a("335d"),g={name:"App",async beforeCreate(){await Object(h["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer)},components:{Navbar:v}},b=g,k=(a("5c0b"),Object(d["a"])(b,r,o,!1,null,null,null)),f=k.exports,w=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home text-center"},[a("h1",[e._v("Welcome to Keepr!")]),e.keepFormToggle?e._e():a("button",{staticClass:"btn btn-primary my-3",attrs:{type:"button"},on:{click:function(t){e.keepFormToggle=!0}}},[e._v("Create a Keep")]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-4"},[e.keepFormToggle?a("keepForm",{on:{clicked:e.cancelToggle}}):e._e()],1)])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row",attrs:{id:"keepRow"}},e._l(e.publicKeeps,(function(e,t){return a("keep",{key:t,attrs:{keepProp:e}})})),1)])])},y=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("div",{staticClass:"card mb-3 shadow p-3 mb-5 bg-black rounded",attrs:{id:"keepCard"}},[a("div",{staticClass:"card-overlay text-right"},[a("button",{staticClass:"btn-danger",attrs:{id:"deleteButton"},on:{click:e.deleteKeep}},[e._v("X")])]),a("h3",{staticClass:"card-header"},[e._v(e._s(e.keepProp.name))]),a("img",{staticStyle:{height:"10rem",width:"100%",display:"block"},attrs:{alt:"Card image",src:e.keepProp.img}}),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[e._v(e._s(e.keepProp.description))])]),a("ul",{staticClass:"list-group list-group-flush"},[a("li",{staticClass:"list-group-item"},[e._v("views "+e._s(e.keepProp.views)+", shares "+e._s(e.keepProp.shares)+", keeps "+e._s(e.keepProp.keeps))])]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown"}},[e._v("Add to vault")]),a("div",{staticClass:"dropdown-menu"},e._l(e.vaults,(function(t){return a("a",{directives:[{name:"show",rawName:"v-show",value:t.name,expression:"vault.name"}],key:t.id,staticClass:"dropdown-item",on:{click:function(a){return e.addKeepToVault(t.id)}}},[e._v("Add to "+e._s(t.name))])})),0)])])])},K=[],V={name:"keep",props:["keepProp","keepObj"],mounted(){},computed:{vaults(){return this.$store.state.vaults}},methods:{deleteKeep(){this.$store.dispatch("deleteKeep",this.keepProp.id),this.$store.commit("getUserKeeps")},addKeepToVault(e){this.keepProp.keeps++;let t={vaultId:e,keepId:this.keepProp.id,keep:this.keepProp};this.$store.dispatch("addKeepToVault",t),this.$store.dispatch("editKeep",t.keep)}}},$=V,x=(a("0699"),Object(d["a"])($,_,K,!1,null,null,null)),T=x.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:"keepForm"},on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}}},[a("fieldset",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control",attrs:{id:"KeepName",type:"text",placeholder:"Keep Name"},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.img,expression:"newKeep.img"}],staticClass:"form-control",attrs:{id:"KeepImg",type:"text",placeholder:"Img Url"},domProps:{value:e.newKeep.img},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"img",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control",attrs:{id:"keepDescription",placeholder:"Keep Description",rows:"3"},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}})])]),a("button",{staticClass:"btn btn-primary mx-2",attrs:{type:"button"},on:{click:e.createKeep}},[e._v("Create!")]),a("button",{staticClass:"btn btn-danger mx-2",attrs:{type:"button"},on:{click:e.cancelToggle}},[e._v("Cancel")])])},F=[],j={name:"keepForm",methods:{cancelToggle(){this.$emit("clicked")},createKeep(){this.$store.dispatch("createKeep",this.newKeep),this.$store.dispatch("getUserKeeps"),this.$emit("clicked")}},data(){return{newKeep:{}}}},O=j,E=Object(d["a"])(O,P,F,!1,null,null,null),N=E.exports,U={name:"home",mounted(){this.$store.dispatch("getPublicKeeps")},computed:{publicKeeps(){return this.$store.state.publicKeeps}},methods:{logout(){this.$store.dispatch("logout")},keepFormToggler(){this.keepFormToggle=!1},cancelToggle(){this.keepFormToggle=!1}},components:{keep:T,keepForm:N},data(){return{keepFormToggle:!1}}},I=U,D=Object(d["a"])(I,C,y,!1,null,null,null),B=D.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard text-center"},[a("h1",[e._v("This is your stuff!")]),e.vaultFormToggle?e._e():a("button",{staticClass:"btn btn-primary mx-3 my-3",attrs:{type:"button"},on:{click:e.vaultFormToggler}},[e._v("Create a Vault")]),e.keepFormToggle?e._e():a("button",{staticClass:"btn btn-primary mx-3 my-3",attrs:{type:"button"},on:{click:e.keepFormToggler}},[e._v("Create a Keep")]),a("div",{staticClass:"container-fluid"},[a("h1",{staticClass:"text-left"},[e._v("Vaults")]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-4"},[e.vaultFormToggle?a("vaultForm",{on:{clicked:e.cancelVaultToggle}}):e._e()],1)]),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-4"},[e.keepFormToggle?a("keepForm",{on:{clicked:e.cancelKeepToggle}}):e._e()],1)])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row",attrs:{id:"keepRow"}},e._l(e.vaults,(function(e,t){return a("vault",{key:t,attrs:{vaultProp:e}})})),1)]),a("div",{staticClass:"container-fluid"},[a("h1",{staticClass:"text-left"},[e._v("Keeps")]),a("div",{staticClass:"row",attrs:{id:"keepRow"}},e._l(e.keeps,(function(e){return a("keep",{key:e.id,attrs:{keepProp:e}})})),1)])])},S=[],A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("div",{staticClass:"card mb-3 shadow p-3 mb-5 bg-black rounded",attrs:{id:"keepCard"}},[a("div",{staticClass:"card-overlay text-right"},[a("button",{staticClass:"btn-danger",on:{click:e.deleteVault}},[e._v("X")])]),a("router-link",{attrs:{to:"/currentVault"}},[a("h3",{staticClass:"card-header",on:{click:e.setCurrentVault}},[e._v(e._s(e.vaultProp.name))])]),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[e._v(e._s(e.vaultProp.description))])])],1)])},R=[],Y={name:"vault",props:["vaultProp"],mounted(){},computed:{},methods:{deleteVault(){this.$store.dispatch("deleteVault",this.vaultProp.id)},setCurrentVault(){this.$store.dispatch("getKeepsByVaultId",this.vaultProp)}}},z=Y,L=Object(d["a"])(z,A,R,!1,null,null,null),W=L.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:"keepForm"},on:{submit:function(t){return t.preventDefault(),e.createVault(t)}}},[a("fieldset",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],staticClass:"form-control",attrs:{id:"KeepName",type:"text",placeholder:"Vault Name"},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],staticClass:"form-control",attrs:{id:"keepDescription",placeholder:"Vault Description",rows:"3"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}})])]),a("button",{staticClass:"btn btn-primary mx-2",attrs:{type:"button"},on:{click:e.createVault}},[e._v("Create!")]),a("button",{staticClass:"btn btn-danger mx-2",attrs:{type:"button"},on:{click:e.cancelToggle}},[e._v("Cancel")])])},J=[],H={name:"keepForm",methods:{cancelToggle(){this.$emit("clicked")},createVault(){this.$store.dispatch("createVault",this.newVault),this.$emit("clicked")}},data(){return{newVault:{}}}},q=H,G=Object(d["a"])(q,X,J,!1,null,null,null),Q=G.exports,Z={name:"Dashboard",async mounted(){await this.$auth.isAuthenticated&&(this.$store.dispatch("getVaults"),this.$store.dispatch("getUserKeeps"),this.$store.dispatch("getVaultkeeps"))},computed:{keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults}},methods:{keepFormToggler(){this.keepFormToggle=!0},cancelKeepToggle(){this.keepFormToggle=!1},vaultFormToggler(){this.vaultFormToggle=!0},cancelVaultToggle(){this.vaultFormToggle=!1}},components:{keep:T,vault:W,keepForm:N,vaultForm:Q},data(){return{keepFormToggle:!1,vaultFormToggle:!1}}},ee=Z,te=Object(d["a"])(ee,M,S,!1,null,null,null),ae=te.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"text-center"},[a("h1",[e._v(e._s(this.currentVault.name))])]),a("div",{staticClass:"container-fluid"},[a("h1",{staticClass:"text-left"},[e._v("Keeps")]),a("div",{staticClass:"row",attrs:{id:"keepRow"}},e._l(e.keepData,(function(e){return a("keep",{key:e.vaultkeepId,attrs:{keepProp:e}})})),1)])])},re=[],oe={name:"currentVault",mounted(){return this.$store.state.currentVault},computed:{currentVault(){return this.$store.state.currentVault},keepData(){return this.$store.state.currentVault.keeps}},components:{keep:T},methods:{}},le=oe,ne=Object(d["a"])(le,se,re,!1,null,null,null),ie=ne.exports;s["a"].use(w["a"]);var ce=new w["a"]({routes:[{path:"/",name:"home",component:B},{path:"/dashboard",name:"dashboard",component:ae,beforeEnter:h["b"]},{path:"/currentVault",name:"currentVault",component:ie}]}),ue=a("2f62");s["a"].use(ue["a"]);let pe=location.host.includes("localhost")?"https://localhost:5001/":"/",de=c.a.create({baseURL:pe+"api/",timeout:3e3,withCredentials:!0});var me=new ue["a"].Store({state:{publicKeeps:[],keeps:[],vaults:[],currentVault:{keeps:[]},vaultkeeps:[]},mutations:{setPublicKeeps(e,t){e.publicKeeps=t.filter(e=>!e.isPrivate)},setUserKeeps(e,t){e.keeps=t},createKeep(e,t){e.keeps.push(t)},deleteKeep(e,t){e.publicKeeps=e.publicKeeps.filter(e=>e.id!=t),e.keeps=e.keeps.filter(e=>e.id!=t)},setVaults(e,t){e.vaults=t},setCurrentVault(e,t){e.currentVault=t},createVault(e,t){e.vaults.push(t)},deleteVault(e,t){e.vaults=e.vaults.filter(e=>e.id!=t)},addKeepsToVault(e,t){e.currentVault.keeps.push(t)},setVaultkeeps(e,t){e.vaultkeeps=t}},actions:{setBearer({},e){de.defaults.headers.authorization=e},resetBearer(){de.defaults.headers.authorization=""},async getPublicKeeps({commit:e}){try{let t=await de.get("keeps");e("setPublicKeeps",t.data)}catch(t){console.error(t)}},async getUserKeeps({commit:e}){try{let t=await de.get("keeps/myKeeps");e("setUserKeeps",t.data)}catch(t){console.error()}},async getKeepsByVaultId({commit:e},t){try{let a=await de.get(`vaults/${t.id}/keeps`),s=t;s.keeps=a.data,e("setCurrentVault",s)}catch(a){console.error()}},async createKeep({commit:e},t){try{let a=await de.post("keeps",t);e("createKeep",a.data)}catch(a){console.error(a)}},async editKeep({commit:e},t){try{console.log(t);await de.put(`keeps/${t.id}`,t)}catch(a){console.error()}},async deleteKeep({commit:e},t){try{await de.delete(`keeps/${t}`);e("deleteKeep",t)}catch(a){console.error()}},async getVaults({commit:e}){try{let t=await de.get("vaults/myVaults");e("setVaults",t.data)}catch(t){console.error(t)}},async createVault({commit:e},t){try{let a=await de.post("vaults",t);e("createVault",a.data)}catch(a){console.error(a)}},async deleteVault({commit:e},t){try{await de.delete(`vaults/${t}`);e("deleteVault",t)}catch(a){console.error()}},async getVaultkeeps({commit:e}){try{let t=await de.get("vaultkeeps");e("setVaultkeeps",t.data)}catch(t){console.error(t)}},async addKeepToVault({commit:e},t){try{await de.post("vaultkeeps",t)}catch(a){console.error()}}}});const ve="dev-1k3ferig.auth0.com",he="https://keepr99.com",ge="XmEgMY7mEYYWhjMezy8l60dv2j8cMVYI";s["a"].use(h["a"],{domain:ve,clientId:ge,audience:he,onRedirectCallback:e=>{ce.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}}),new s["a"]({router:ce,store:me,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},6365:function(e,t,a){},"9c0c":function(e,t,a){}});